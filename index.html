<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>Color Columns with Shades</title>
   <link href="./dist/output.css" rel="stylesheet" />
 </head>
 <body class="bg-white min-h-screen flex items-center justify-center p-8">
   <div class="flex flex-col w-full h-[calc(100vh-4rem)]">
     <div
       id="colorGrid"
       class="grid grid-flow-col auto-cols-fr gap-1 w-full flex-1"
     ></div>
     <div class="w-full mt-4">
     <div class="flex justify-between">
       <div class="flex items-center">
         <p class="mr-2 text-sm text-gray-900">Copy</p>
         <select
           class="px-2 py-1.5 bg-gray-200 border rounded text-gray-700 focus:outline-none text-sm focus:ring-0"
         >
           <option value="hex">HEX</option>
           <option value="rgb">RGB</option>
           <option value="hsl">HSL</option>
           <option value="tailwind">Tailwind Class</option>
         </select>
         <button 
           onclick="copyPackageCommand()" 
           class="ml-4 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-sm rounded border transition-colors"
         >
           npm install tailwind-extra-colors
         </button>
       </div>
       <a href="credits.html" class="text-gray-600 hover:text-gray-900">Credits</a>
     </div>
   </div>
   </div>
   <script>
     function copyPackageCommand() {
       navigator.clipboard.writeText("npm install tailwind-extra-colors");
       const btn = document.querySelector("button");
       const originalText = btn.textContent;
       btn.textContent = "Copied!";
       setTimeout(() => btn.textContent = originalText, 2000);
     }

     const colors = [
       "red",
       "orange",
       "amber",
       "yellow",
       "lime",
       "green",
       "emerald",
       "teal",
       "cyan",
       "sky",
       "blue",
       "indigo",
       "violet",
       "purple",
       "fuchsia",
       "pink",
       "rose",
       "stone",
       "neutral",
       "zinc",
       "gray",
       "slate",
     ];

     const shades = [
       950, 900, 850, 800, 750, 700, 650, 600, 550, 500, 450, 400, 350, 300,
       250, 200, 150, 100, 50,
     ];

     const select = document.querySelector("select");
     let currentFormat = "hex";
     select.addEventListener("change", (e) => {
       currentFormat = e.target.value;
     });

     function hexToRgb(hex) {
       const r = parseInt(hex.slice(1, 3), 16);
       const g = parseInt(hex.slice(3, 5), 16);
       const b = parseInt(hex.slice(5, 7), 16);
       return `rgb(${r}, ${g}, ${b})`;
     }

     function hexToHsl(hex) {
       let r = parseInt(hex.slice(1, 3), 16) / 255;
       let g = parseInt(hex.slice(3, 5), 16) / 255;
       let b = parseInt(hex.slice(5, 7), 16) / 255;

       const max = Math.max(r, g, b);
       const min = Math.min(r, g, b);
       let h,
         s,
         l = (max + min) / 2;

       if (max === min) {
         h = s = 0;
       } else {
         const d = max - min;
         s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
         switch (max) {
           case r:
             h = (g - b) / d + (g < b ? 6 : 0);
             break;
           case g:
             h = (b - r) / d + 2;
             break;
           case b:
             h = (r - g) / d + 4;
             break;
         }
         h /= 6;
       }

       return `hsl(${Math.round(h * 360)}, ${Math.round(
         s * 100
       )}%, ${Math.round(l * 100)}%)`;
     }

     function rgbToHex(rgb) {
       const values = rgb.match(/\d+/g);
       const r = parseInt(values[0]);
       const g = parseInt(values[1]);
       const b = parseInt(values[2]);

       const toHex = (n) => {
         const hex = n.toString(16);
         return hex.length === 1 ? "0" + hex : hex;
       };

       return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
     }

     function copyTailwindInstall() {
       const command =
         "npm install -D tailwindcss postcss autoprefixer && npx tailwindcss init";
       navigator.clipboard.writeText(command);
       const btn = document.getElementById("copyInstall");
       btn.textContent = "Copied!";
       setTimeout(() => (btn.textContent = "Copy Tailwind Install"), 2000);
     }

     const grid = document.getElementById("colorGrid");
     colors.forEach((color) => {
       const column = document.createElement("div");
       column.className = "flex flex-col h-full";
       column.innerHTML = `
 <div class="text-sm text-gray-800 mb-3 capitalize">${color}</div>
`;

       shades.forEach((shade) => {
         const div = document.createElement("div");
         div.className = `flex-1 flex items-center justify-center text-sm font-bold cursor-pointer
   bg-${color}-${shade} transition-transform duration-200
   ${shade === 950 ? "rounded-t" : ""}
   ${shade === 50 ? "rounded-b" : ""}
   active:scale-75`;

         const span = document.createElement("span");
         span.textContent = shade;
         span.style.opacity = "0";
         div.appendChild(span);

         div.addEventListener("mouseenter", () => {
           span.style.opacity = "0.4";
           span.style.color = shade > 500 ? "white" : "black";
         });

         div.addEventListener("mouseleave", () => {
           span.style.opacity = "0";
         });

         div.addEventListener("click", async () => {
           const computedStyle = getComputedStyle(div);
           const bgColor = computedStyle.backgroundColor;
           const hex = rgbToHex(bgColor);

           let copyText;
           switch (currentFormat) {
             case "hex":
               copyText = hex;
               break;
             case "rgb":
               copyText = bgColor;
               break;
             case "hsl":
               copyText = hexToHsl(hex);
               break;
             case "tailwind":
               copyText = `bg-${color}-${shade}`;
               break;
           }

           try {
             await navigator.clipboard.writeText(copyText);
             div.classList.add("scale-75");
             setTimeout(() => div.classList.remove("scale-75"), 200);
           } catch (err) {
             console.error("Failed to copy:", err);
           }
         });

         column.appendChild(div);
       });
       grid.appendChild(column);
     });
   </script>
 </body>
</html>